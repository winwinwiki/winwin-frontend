language: node_js
node_js:
  - "stable" #version of node js
cache:
  directories:
    - node_modules
script:
  - npm install
  - unset CI #To avoid build failure due to warnings
  - npm run build
before_deploy: "echo 'Deploying to dev...'"
deploy:
  provider: s3
  skip_cleanup: true #Skip cleaning up the build folder before deploy/upload
  access_key_id: "AKIAIQPGI6TTKCITNVVA"
  secret_access_key: 
    secure: "G4WavGT/y2Vsyw6H6RRCKH2KPpgYISVfuJ/1gzLTh5dx5uWOTbb/TBPpwwdcHr7qu7K1tq4I3+rLODXE2HKDV5J7FoE+Nco+ITJfRSho4EaiCMsI98gPPcpSJilJgX457o/adf1DgMM9+aGImDG7AWmW0RsVjE6BcnkyZFwroOO2p2Ttj2iHK0crBQobZ0pM4RbaDQ6+QA66voLba2TXf9t5jAKmfoWdwbFu7Ygj0qiqjBaEgkLi3xNfr/C/F6tcn4dYyDjTzeSZJcTEOULbL7fXuw7CMyvTYVGtZg6GHGPPEJodzaxKjb2mwQ4XGnHsLD/mNiA7L9syCRqJ3kBb+linUrgtSp7wTRy+whiL5D2kSbyFfi/G37Pi9v4q/ru+iohodcR4HL5iIv1NqvJIAZ5NxrwsjIgFZ34QQcyIGBHq6KGmjBUKPbQow/Az+awqedQepc8TN/iJxOGerbAgJhnJAAq/2xgUkDTCw4wM7icySTAkFKEhNw9DLu6TQrse01irmJBX7dRWHzImYse2HVYQDFpwA+YGjsJazM3kxnCcv9bVtXGxYNn/z3FYj2nc2sKFfIbuzsoCbwMaPYeucC/6Wb8FNAfSqzIm5X7yadkmFa4P34acMx/sWJ44rEtRO6OruAMIly9BX0C71V/f7tBW0leRdVATGBew1o6JF/4="
  bucket: "winwin-frontend-bucket"
  local_dir: build #Upload only this directory
  region: "us-east-2"
  on:
    branch: dev
after_deploy: "echo 'Deployment to dev is complete.'"